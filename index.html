<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>斗鱼礼物大全</title>
    <link rel="shortcut icon" type="image/png" href="https://raw.githubusercontent.com/wolf-scream/gift_effect/master/favicon.ico">
    <link href="https://raw.githack.com/wolf-scream/gift_effect/master/main.css" rel="stylesheet">
</head>

<body id="top">
    <div class="page">
        <header>
            <div class="pp-header">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <div class="container">
                        <img src="https://raw.githubusercontent.com/wolf-scream/gift_effect/master/favicon.png">
                        <!-- <img src="images/favicon.png"> -->
                        <a class="navbar-brand" href="index.html">斗鱼定制礼物图片集锦</a>
						<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
              			<div class="collapse navbar-collapse" id="navbarNavAltMarkup"></div>
                    </div>
                </nav>
            </div>
        </header>
        <div class="page-content">
            <div class="container">
                <div class="container pp-section">
                    <div class="row">
                        <div class="col-md-9 col-sm-12 px-0">
                            <h4 class="h4">这里涵盖了大部分斗鱼礼物的效果图，以定制的火箭(超火)种类最多！</h4>
                        </div>
                    </div>
                </div>
                <div class="container px-0">
                    <div class="pp-gallery">
                        <div class="card-columns">

<!--                             <div class="card" data-groups="[&quot;nature&quot;]">
                                <a href="image-detail.html">
                                    <figure class="pp-effect">
                                        <img class="img-fluid" src="images/1-nature.jpg" alt="Nature" />
                                        <figcaption>
                                            <div class="h4">Forest</div>
                                            <p>Nature</p>
                                        </figcaption>
                                    </figure>
                                </a>
                            </div> -->

                        </div>
                    </div>
                </div>
                <div class="pp-section"></div>
            </div>
        </div>
        <footer class="pp-footer">
            <div class="container py-5">
                <div class="row text-center">
                    <div class="col-md-12"><a class="pp-facebook btn btn-link" href="#"><i class="fa fa-facebook fa-2x " aria-hidden="true"></i></a><a class="pp-twitter btn btn-link " href="#"><i class="fa fa-twitter fa-2x " aria-hidden="true"></i></a><a class="pp-google-plus btn btn-link"
                        href="#"><i class="fa fa-google-plus fa-2x" aria-hidden="true"></i></a><a class="pp-instagram btn btn-link" href="#"><i class="fa fa-instagram fa-2x " aria-hidden="true"></i></a>
                    </div>
                    <div class="col-md-12">
                        <p class="mt-3">Copyright &copy; Photo Perfect. All rights reserved.
                            <br>More Templates Collect from <a href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a>
                        </p>
                    </div>
                </div>
            </div>
        </footer>
    </div>
<!--原json网址需要跨域支持 https://webconf.douyucdn.cn/resource/common/gift/flash/gift_effect.json -->
    <script type="text/javascript">
        function jQueryGet() {
             var url = "https://raw.githubusercontent.com/wolf-scream/gift_effect/master/gift_effect.json";
            $.get(url,function(result) {
                result = result.substring(17, result.length-2);
                var jsonData = JSON.parse(result);
                jsonData=jsonData.data.flashConfig;
                console.log(jsonData);
                var anchorNode = document.querySelector(".card-columns");
                for(let key in jsonData){
                    if(jsonData[key].hdt!=""){
                        var imgTag ="<figure class='pp-effect'>";
                        imgTag+="<img class='img-fluid' src='"+jsonData[key].hdt +"' alt='all'>";
                        imgTag+="<figcaption><div class='h4'>"+jsonData[key].name+"</div>" ;  
                        imgTag+="<p>礼物id:"+key+"</p></figcaption></figure>"; 
                        var divTag = document.createElement("div");
                        divTag.setAttribute("class","card");
                        divTag.innerHTML =  imgTag;
                        anchorNode.appendChild(divTag);
                    }       
                } 
            });
        }

        function fetchGet() {
        	fetch('https://raw.githubusercontent.com/wolf-scream/gift_effect/master/gift_effect.json',{
                method: 'GET',
                mode: 'cors', //请求模式为跨域
                cache: 'default', //no-cache
                credentials: 'same', // 同源则加入凭据头,cookies
				}).then(res => {
				    return res.text();
				}).then(result => {
				    // console.log('获取的结果', result);
					result = result.substring(17, result.length-2);
                	var jsonData = JSON.parse(result);
                	jsonData=jsonData.data.flashConfig;
                	console.log(jsonData);
                	var anchorNode = document.querySelector(".card-columns");
                	for(let key in jsonData){
                	    if(jsonData[key].hdt!=""){
                	        var imgTag ="<figure class='pp-effect'>";
                	        imgTag+="<img class='img-fluid' src='"+jsonData[key].hdt +"' alt='all'>";
                	        imgTag+="<figcaption><div class='h4'>"+jsonData[key].name+"</div>" ;  
                	        imgTag+="<p>礼物id:"+key+"</p></figcaption></figure>"; 
                	        var divTag = document.createElement("div");
                	        divTag.setAttribute("class","card");
                	        divTag.innerHTML = imgTag;
                	        anchorNode.appendChild(divTag);
                	    }       
                	} 
				}).catch(err => {
				    console.log('请求错误', err);
			})
        }
        fetchGet();

    </script>
</body>

</html>
